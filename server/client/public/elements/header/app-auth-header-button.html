<style>
  :host {
    display: inline-block;
  }

  img {
    width: 36px;
    height: 36px;
    border-radius: 20px;
    border: 1px solid white;
    cursor: pointer;
  }

  img:hover {
    border: 1px solid var(--light-primary-color);
  }

  [state="loggedIn"] {
    position: relative;
  }

  #logout {
    z-index: 1000;
    color: black;
    display: none;
    position: absolute;
    top: 45px;
    background-color: white;
    right: 0px;
    padding: 10px;
    box-shadow: 0 0 8px rgba(0,0,0,.5);
  }
  a {
    cursor: pointer;
    text-decoration: none;
  }

  [slot="dropdown-content"] {
    color: black;
    white-space: nowrap;
  }

  a {
    text-decoration: none;
    color: black;
  }

  cork-popup-button {
    --cork-border: none;
    --cork-background-color-open: transparent;
  }

  .option {
    padding: 10px;
    white-space: nowrap;
    color: var(--text-primary-color);
  }

  .option.selectable {
    cursor: pointer;
  }
  .option.selectable:hover {
    color: var(--default-primary-color);
  }

  paper-icon-button {
    color: white;
  }

  [hidden] {
    display: none;
  }
</style>

<div state="pending">...</div>

<div state="loggedIn">
  <cork-popup-button id="menuBtn" no-btn-arrow>
    <div slot="btn-content">
      <paper-icon-button icon="social:person" hidden$="[[hasPhoto]]"></paper-icon-button>
      <img src="[[photo]]" hidden$="[[!hasPhoto]]" alt="User profile image"/>
    </div>
    <div>
      <div class="option">[[username]]</div>
      <div class="option selectable" on-click="_onLogoutClicked">
        <iron-icon icon="exit-to-app"></iron-icon>&nbsp;Logout
      </div>

      <div class="option selectable" hidden$="[[!isAdmin]]" on-click="_gotToAdmin">
        <iron-icon icon="gavel"></iron-icon>&nbsp;Admin Interface</a>
      </div>
      <div class="option selectable" hidden$="[[!isAnonymous]]" on-click="_switch">Login with user account</div>
    </div>
  </cork-popup-button>

  <paper-icon-button on-click="_onLoginClicked" icon="social:person-outline" hidden$="[[!isAnonymous]]" ></paper-icon-button>
</div>

<div state="notLoggedIn">
  <paper-icon-button on-click="_onLoginClicked" icon="social:person-outline"></paper-icon-button>
</div>
