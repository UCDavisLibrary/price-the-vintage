 <link rel="import" href="app-admin-card.html"> 

<dom-module id="app-admin-interface">
  <template>
    <style>
      :host {
        display: block
      }

      div[state="loading"] {
        padding: 35px;
        text-align: center;
      }

      div[state="loaded"] {
        padding: 15px 10px;
        text-align: center;
      }

      paper-spinner-lite {
        --paper-spinner-color: var(--accent-color);
      }
    </style>



     <div state="loaded">
      <cork-pagination 
        text-mode 
        on-nav="_onNav"
        items-per-page="[[itemsPerPage]]"
        current-index="0"
        total-results="1">
      </cork-pagination>
      
      <div style="padding-top: 10px">
        <template is="dom-repeat" items="[[results]]">
          <app-admin-card data="[[item]]"></app-admin-card>
        </template>
      </div>

      <cork-pagination 
        on-nav="_onNav"
        items-per-page="[[itemsPerPage]]"
        current-index="0"
        total-results="1">
      </cork-pagination>
    </div> 

    <div state="loading">
      <paper-spinner-lite active></paper-spinner-lite>
    </div>



  </template>

  <script>
    class AppAdminInterface extends 
        Mixin(Polymer.Element)
        .with(EventMixin, ToggleStateMixin, AdminMixin) {

      static get is() { return 'app-admin-interface'; }

      static get properties() {
        return {
          itemsPerPage : {
            type : Number,
            value : 10
          },

          results : {
            type : Array,
            value : function() {
              return [
                {
                  mark_count : 6,
                  page : 3,
                  page_id : 'dc9ca8fe-6549-4768-89ea-f915f30f1a87',
                  catalog_id : 'bb707dae-2fd1-4cb5-be98-f00c5dd58163',
                  media_id : '46e84d6c-4ddc-4a40-912c-8b648755c441',
                  lastUpdated : '2017-08-04T20:20:07.083Z',
                  catalog_title : 'Seasons Greetings 1978 this is a really long title'
                }
              ];
            }
          }
        };
      }

      ready() {
        super.ready();
        this.toggleState('loaded');
      }

      _onAdminSearchUpdate(e) {
        this.toggleState(e.state);
      }

      _onNav(e) {
        this._adminSearchPendingMarkPages(e.startIndex, this.itemsPerPage);
      }

    }

    window.customElements.define(AppAdminInterface.is, AppAdminInterface);
  </script>
</dom-module>