<link rel="import" href="/bower_components/app-route/app-route.html">
<link rel="import" href="/bower_components/paper-spinner/paper-spinner.html">

<link rel="import" href="wine-catalogs-list.html">
<link rel="import" href="wine-pages-list.html">
<link rel="import" href="wine-page-markup.html">

<dom-module id="wine-catalogs">

  <template>

    <style>
      :host {
        display: block;
        height: 100%;
        position: relative;
      }

      .overlay {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        background: #FFF;
      }
    </style>

    <app-route route="{{route}}"
               pattern="/list"
               active="{{listActive}}"
               tail="{{catalogRoute}}">

    </app-route>

    <app-route route="{{route}}"
               pattern="/catalog/:catalog_id"
               active="{{catalogActive}}"
               tail="{{pageRoute}}"
               data="{{catalogData}}"></app-route>

    <app-route route="{{route}}"
               pattern="/page/:page_id"
               active="{{pageActive}}"
               data="{{pageData}}"></app-route>

    <wine-catalogs-list
        active="{{listActive}}"
        api="[[api]]">
    </wine-catalogs-list>

    <wine-pages-list
        api="[[api]]"
        catalog_id="{{catalogData.catalog_id}}"
        active="{{catalogActive}}"
    >
    </wine-pages-list>

    <wine-page-markup
        api="[[api]]"
        page_id="{{pageData.page_id}}"
        active="{{pageActive}}"
    >
    </wine-page-markup>

  </template>

  <script>
    Polymer({

      is: 'wine-catalogs',
      properties: {
				api: {
					type: "text",
					reflectToAttribute: true
				},
      }

    });
  </script>

</dom-module>
