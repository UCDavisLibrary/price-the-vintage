<script>
  const AppStateMixin = subclass =>
  
  class AppStateController extends subclass {
      get bind() {
        return Object.assign(
          super.bind,
          {
            'app-state-update' : '_onAppStateUpdate'
          }
        );
      }

      ready() {
        super.ready();
        this._getAppState().then((e) => this._onAppStateUpdate(e));
      }

      _setAppState(state) {
        return this.emit('update-app-state', {state});
      }

      _getAppState() {
        return this.emit('get-app-state');
      }

      _onAppStateUpdate(e) {
        // implement me
      }
  }
</script>