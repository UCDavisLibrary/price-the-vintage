<script>
  const MarksMixin = subclass =>
  
  class MarksController extends subclass {
      get bind() {
        return Object.assign(
          super.bind,
          {
            'catalog-page-marks-update' : '_onMarksUpdate',
            'approved-catalog-page-marks-update' : '_onMarksApproved',
            'pending-mark-search-update' : '_onPendingMarkSearchUpdate'
          }
        );
      }

      _getMarks(pageId) {
        return this.emit('MarksModel.getPageMarks', pageId);
      }

      _getPendingMark(pageId, markId) {
        return this.emit('MarksModel.getPendingMark', pageId, markId);
      }

      _listenToMark(pageId, markId) {
        return this.emit('MarksModel.listenToMark', pageId, markId);
      }

      _addMark(pageId, mark) {
        return this.emit('MarksModel.setPending', pageId, mark);
      }

      _editMark(pageId, markId, mark) {
        return this.emit('MarksModel.setPending', pageId, markId, mark);
      }

      _voteOnMark(pageId, markId, vote) {
        return this.emit('MarksModel.votePending', pageId, markId, vote);
      }

      _removeMark(pageId, markId) {
        return this.emit('MarksModel.removePending', pageId, markId);
      }

      _pendingMarkSearch(query) {
        return this.emit('MarksModel.pendingMarkSearch', query);
      }

      _updateTempMark(pageId, xy) {
        return this.emit('MarksModel.updateTempMark', pageId, xy);
      }

      _removeTempMark() {
        return this.emit('MarksModel.removeTempMark');
      }

      _onMarksUpdate(e) {
        // implement me
      }

      _onMarksApproved(e) {
        // implement me
      }

      _onPendingMarkSearchUpdate(e) {
        // implement me
      }
  }
</script>