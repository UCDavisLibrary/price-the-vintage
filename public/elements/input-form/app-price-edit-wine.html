<dom-module id="app-price-edit-wine">
  <template>
    <style include="shared-styles"></style>
    <style>
      :host {
        display: block;
      }

      .row {
        display: flex;
      }

      .row > div {
        flex: 1;
      }

      .padding {
        padding-top: 15px;
      }
    </style>

    <div class="row">
      <div>
        <div>Wine Type</div>
        <cork-select id="wineType" options="[[wineTypeOptions]]" disabled$="[[disabled]]"></cork-select>

        <!-- <div>Wine Type</div>
        <select value="Still" id="wineType" disabled$="[[disabled]]" >
          <option value="Still">Still</option>
          <option value="Sparkling">Sparkling</option>
          <option value="Fortified">Fortified</option>
        </select> -->
      </div>
      <div>
        <div>Wine Color</div>
        <select value="Red" id="color" disabled$="[[disabled]]" >
          <option value="Red">Red Wine</option>
          <option value="White">White Wine</option>
          <option value="Rose">Rose</option>
        </select>
      </div>
    </div>


    <app-price-form-input
      class="padding"
      id="sectionInput"
      label="Page Section"
      placeholder="ex. Red Burgundies / Scotch Whiskies on Sale">
    </app-price-form-input>

    <app-price-form-input
      class="padding"
      id="name"
      disabled$="[[disabled]]"
      label="Name"
      placeholder="ex. Santenay">
    </app-price-form-input>

    <app-price-form-input
      class="padding"
      id="country"
      disabled$="[[disabled]]"
      label="Country"
      placeholder="ex. France">
    </app-price-form-input>

    <div class="row padding">
      <div>
        <app-price-form-input
          id="year"
          disabled$="[[disabled]]"
          label="Vintage (year)"
          type="number"
          placeholder="YYYY">
        </app-price-form-input>
      </div>
      <div>
        <div>Bottle Size</div>
        <select value="Standard" id="bottleType" disabled$="[[disabled]]">
          <option value="Standard">Standard</option>
          <option value="Split">Split</option>
          <option value="Piccolo">Piccolo</option>
          <option value="Pony">Pony</option>
          <option value="Split">Split</option>
          <option value="Quarter Bottle">Quarter Bottle</option>
          <option value="Snipe">Snipe</option>
          <option value="Quarter">Quarter</option>
          <option value="Chopine">Chopine</option>
          <option value="Demi">Demi</option>
          <option value="Half Bottle">Half Bottle</option>
          <option value="Tenth">Tenth</option>
          <option value="Jennie">Jennie</option>
          <option value="Demie">Demie</option>
          <option value="Pinte">Pinte</option>
          <option value="Clavelin">Clavelin</option>
          <option value="Standard">Standard</option>
          <option value="Fifth">Fifth</option>
          <option value="Litre">Litre</option>
          <option value="Magnum">Magnum</option>
          <option value="Marie Jeanne">Marie Jeanne</option>
          <option value="Jeroboam">Jeroboam</option>
          <option value="Rehoboam">Rehoboam</option>
          <option value="McKenzie">McKenzie</option>
          <option value="Imperial">Imperial</option>
          <option value="Methuselah">Methuselah</option>
          <option value="Salmanazar">Salmanazar</option>
          <option value="Balthazar">Balthazar</option>
          <option value="Nebuchadnezzar">Nebuchadnezzar</option>
          <option value="Melchior">Melchior</option>
          <option value="Solomon">Solomon</option>
          <option value="Sovereign">Sovereign</option>
          <option value="Primat">Primat</option>
          <option value="Goliath">Goliath</option>
          <option value="Melchizedek">Melchizedek</option>
          <option value="Midas">Midas</option>
          <option value="Tenths">Tenths</option>
          <option value="Pint">Pint</option>
          <option value="Quar">Quart</option>
        </select>
      </div>
    </div>

    <div class="row padding">
      <div>
        <app-price-form-input
          id="price"
          disabled$="[[disabled]]"
          label="Price Per Bottle"
          type="number"
          placeholder="0.00">
        </app-price-form-input>
      </div>
      <div>
        <app-price-form-input
          id="casePrice"
          disabled$="[[disabled]]"
          type="number"
          label="Price Per Case"
          placeholder="0.00">
        </app-price-form-input>
      </div>
    </div>

  </template>

  <script>

    class AppPriceEditWine extends Polymer.Element {

      static get is() { return 'app-price-edit-wine' }

      static get properties() {
        return {
          pageId : {
            type : String,
            value : null,
          },
          disabled : {
            type : Boolean,
            value : false,
            // have to trigger polymers style shim on update (css vars updated)
            observer : 'updateStyles'
          }
        }
      }

      get wineTypeOptions() {
        return [
          {
            value : 'Still',
            icon : 'cork:wine-still'
          },
          {
            value : 'Sparkling',
            icon : 'cork:wine-sparkling'
          }
        ]
      }

      reset() {
        this.$.color.value = 'Red';
        this.$.wineType.value = 'Still';
        this.$.bottleType.value = 'Standard';
        this.$.name.value = '';
        this.$.price.value = '';
        this.$.casePrice.value = '';
        this.$.year.value = '';
        this.$.country.value = '';
      }

      edit(data) {
        this.$.color.value = data.color || this.getEmptyValue('Red');
        this.$.wineType.value = data.wineType || this.getEmptyValue('Still');
        this.$.bottleType.value = data.bottleType || this.getEmptyValue('Standard');
        this.$.name.value = data.name || this.getEmptyValue();
        this.$.price.value = data.price || this.getEmptyValue();
        this.$.casePrice.value = data.casePrice || this.getEmptyValue();
        this.$.country.value = data.country || this.getEmptyValue();
        this.$.year.value = data.year || this.getEmptyValue();
      }

      getEmptyValue(val) {
        return this.disabled ? '-' : (val || '');
      }

      getData() {
        return {
          color: this.$.color.value,
          wineType : this.$.wineType.value,
          bottleType : this.$.bottleType.value,
          name : this.$.name.value,
          price : this.$.price.value,
          casePrice : this.$.casePrice.value,
          country : this.$.country.value,
          year : this.$.year.value
        };
      }

    }

    window.customElements.define(AppPriceEditWine.is, AppPriceEditWine);
  </script>
</dom-module>